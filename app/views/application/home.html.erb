<h1>D3 tutorial by D3Noob.org</h1>
<h3>svg input tab</h3>

<%= render 'housesvg' %>


<p>
  <label for="nValue" 
         style="display: inline-block; width: 240px; text-align: right">
         angle = <span id="nValue-value"></span>
  </label>
  <input type="number" min="-360" max="360" step="5" value="0" id="nValue" >
</p>
<p>
  <label for="nRatio" 
         style="display: inline-block; width: 240px; text-align: right">
         ratio = <span id="nRatio-value"></span>
  </label>
  <input type="number" min="-10" max="10" step=".10" value="1" id="nRatio" >
</p>

<p> words before the script</p>

<script>

var width = 600;
var height = 300;
var nRatio = .25;

var holder = d3.select("body")
      .append("svg")
      .attr("width", width)    
      .attr("height", height); 

// // draw the element
// holder.append("text")
//   .style("fill", "black")
//   .style("font-size", "56px")
//   .attr("dy", ".35em")
//   .attr("text-anchor", "middle")
//   .attr("transform", "translate(300,150) rotate(0)")
//   .text("d3noob.org");

// // when the input range changes update value 
// d3.select("#nValue").on("input", function() {
//   update(+this.value);
// });

// // Initial update value 
// update(0);

// // adjust the text
// function update(nValue) {

//   // adjust the value
//   holder.select("text") 
//     .attr("transform", "translate(300,150) rotate("+nValue+")");
// }

// alternate append
// draw the element
holder.append("rect")
  .style("fill", "yellow")
  .style("stroke", "orange")
  .style("stroke-width", "2px")
  .attr("x1", "20")
  .attr("y1", "20")
  .attr("width", "200")
  .attr("height","100")
  .attr("transform", "translate(0,0) rotate(0)")
  ;

// when the input range changes update value 

//rotate/angel update
// d3.select("#nValue").on("input", function() {
//   update(+this.value);
// });
//ratio/scale update
d3.select("#nRatio").on("input", function() {
  update(+this.value);
});
// Initial update value 
update(0);

// adjust the form
// function update(nValue) {

//   // adjust the value
//   holder.select("rect") 
//     .attr("transform", "translate(300,150) rotate("+nValue+")");
// }
function update(nRatio) {

  // adjust the ratio
  holder.select("rect") 
    .attr("width", "200" * nRatio)
    .attr("height","100" * nRatio);
} 

</script>

  <p> words after the script</p>
